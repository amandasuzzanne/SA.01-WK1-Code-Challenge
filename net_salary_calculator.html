<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net Salary Calculator</title>
</head>
<body>
    <script>
        // Function to calculate net salary
        function calculateNetSalary(basic_salary, benefits) {

            // Calculating Gross Salary
            const gross_salary = basic_salary + benefits;

            // Calculating PAYE
            let PAYE = 0;
            if (gross_salary <= 24000) {
                PAYE = gross_salary * 0.1;
            } else if (gross_salary >= 240001 && gross_salary <= 32333) {
                PAYE = gross_salary * 0.25;
            } else if (gross_salary >= 32334 && gross_salary <= 500000) {
                PAYE = gross_salary * 0.3;
            } else if (gross_salary >= 500001 && gross_salary <= 800000) {
                PAYE = gross_salary * 0.325;
            } else {
                PAYE = gross_salary * 0.35;
            }

            // Calculating NHIF Deductions
            let NHIFDeduction = 0;
            if (gross_salary <= 5990) {
                NHIFDeduction = 150;
            } else if (gross_salary <= 7999) {
                NHIFDeduction = 300;
            } else if (gross_salary <= 11999) {
                NHIFDeduction = 400;
            } else if (gross_salary <= 14999) {
                NHIFDeduction = 500;
            } else if (gross_salary <= 19999) {
                NHIFDeduction = 600;
            } else if (gross_salary <= 24999) {
                NHIFDeduction = 750;
            } else if (gross_salary <= 29999) {
                NHIFDeduction = 850;
            } else if (gross_salary <= 34999) {
                NHIFDeduction = 900;
            } else if (gross_salary <= 39999) {
                NHIFDeduction = 950;
            } else if (gross_salary <= 44999) {
                NHIFDeduction = 1000;
            } else if (gross_salary <= 49999) {
                NHIFDeduction = 1100;
            } else if (gross_salary <= 59999) {
                NHIFDeduction = 1200;
            } else if (gross_salary <= 69999) {
                NHIFDeduction = 1300;
            } else if (gross_salary <= 79999) {
                NHIFDeduction = 1400;
            } else if (gross_salary <= 89999) {
                NHIFDeduction = 1500;
            } else if (gross_salary <= 99999) {
                NHIFDeduction = 1600;
            } else NHIFDeduction = 1700;

            // Calculating NSSF Deductions
            const tierILimit = 7000;
            const tierIIStart = 7001;
            const tierIILimit = 36000;
            // Calculating Tier I
            let tierI = 0;
            if (gross_salary <= tierI) {
                tierI = gross_salary * 0.06;
            } else {
                tierI = tierILimit * 0.6;
            }
            // Calculating Tier II
            let tierII = 0;
            if (gross_salary > tierILimit && gross_salary <= tierIILimit) {
                tierII = gross_salary - tierILimit;
            } else if (basic_salary > tierIILimit) {
                tierII = tierIILimit - tierILimit;
            }
            const NSSFDeduction = tierI + tierII;

            // Calculating Net Salary
            let net_salary = gross_salary - PAYE - NHIFDeduction - NSSFDeduction; 

            // Returning the calculated values
            return {gross_salary, PAYE, NHIFDeduction, NSSFDeduction,NSSFDeduction};
        }

        // Main function to execute the program
        function main() {
            // Prompting the user to input basic salary and benefits amounts
            const basic_salary = parseFloat(prompt("Enter basic salary amount:"));
            const benefits = parseFloat(prompt("Enter benefits amount:"));

            // Validating the input
            if (!isNaN(basic_salary) && basic_salary > 0 && !isNaN(benefits) && benefits > 0) {
                // Calculating net salary
                const { gross_salary, PAYE, NHIFDeduction, NSSFDeduction, net_salary } = calculateNetSalary(basic_salary, benefits);

                // Displating the details    
                document.write("Gross Salary: " + gross_salary + "<br>");
                document.write("PAYE: " + PAYE + "<br>");
                document.write("NHIF Deductions: " + NHIFDeduction + "<br>");
                document.write("NSSF Deductions: " + NSSFDeduction + "<br>");
                document.write("Net Salary: " + net_salary + "<br>");
            } else {
                // Handling invalid input values
                document.write("Invalid input. Amount should be greater than zero");
            }
        }

        // Calling the main function to start the program
        main();
    </script>
</body>
</html>